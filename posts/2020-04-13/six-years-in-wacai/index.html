<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="shortcut icon" href="/blog/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#000000"><link rel="manifest" href="/blog/manifest.json"><link rel="canonical" href="/blog/posts/2020-04-13/six-years-in-wacai/" />

    <title data-react-helmet="true">浮生 6 载</title>
    
    
  <link rel="stylesheet" href="/blog/static/css/1.256ccf89.chunk.css" /><link href="/blog/static/css/main.e5a51191.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div class="BlogLayout_container__8wf6g"><div class="
        LoadingIndicator_LoadingIndicator__nj5Ug
        
        undefined
      "></div><header><h3 class="BlogLayout_title__1KtpA"><a class=" " href="/">qingtong Blog</a></h3></header><main><article><header class="BlogPostLayout_header__30yid"><h1 class="BlogPostLayout_title__1TCtk"><a class=" " href="/posts/2020-04-13/six-years-in-wacai/">浮生 6 载</a></h1><small><time dateTime="Sun, 12 Apr 2020 16:00:00 GMT">April 13, 2020</time> <!-- -->•<!-- --> <ul class="ArticleMeta_tags__3omzx"><li><a class=" " href="/tags/work/">work</a></li></ul> <!-- -->•<!-- --> <span>☕️☕️<!-- --> <!-- -->12<!-- --> min read</span></small></header><div class="BlogPostLayout_content__1Z4m-"><h2 id="前言">前言</h2><p>几天前在群看到一只老视频，彼时的自己在项目小黑屋里面挑灯夜战，对着镜头谈笑风生，仿佛未来触手可及。多年以后再度重温，虽然间隔短短5年有余，仍是感觉白云苍狗，世事沧桑。</p><h2 id="入行">入行</h2><p>2014 年入行以来，挖财虽然不是完整的职业履历，却是一段难以忘怀的漫长生涯。见惯了业务的起起伏伏，也习惯了身边同事的来来往往，绕了如此一大圈，终于还是转身，切到了一条全新赛道，重新去面对新一轮的未知。</p><p>犹记得第一次去福地创业园的时候，雪刚刚停，长长的斜坡两边积满了雪花，静待春天的到来。彼时的互联网迎来了移动互联网的春天，一大波企业都在争先恐后的抢占赛道，当时的挖财也不例外，在我入职不久以后，借助之前的记账用户积累，很快就开始启动了理财 + 信贷的模式。在移动互联网助力下，借助互联网金融的普惠理念，挖财很快在互金领域站稳了脚跟。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/518.jpg" alt="biz"/></p><blockquote><p>2015 518 活动</p></blockquote><p>互联网的速度令人震惊，我们在短短半年之内很快就做到了单日峰值10亿的规模，而当时我们整个开发团队甚至不到10人。彼时的我们深信前途终将一片灿烂，我们终将改变当前的金融生态。</p><p>在技术演进方面，14–15年恰逢 node.js 成熟的阶段，node.js 在 web 领域蓬勃发展，衍生了像 <code>gulp/webpack/express/koa</code> 等非常优秀的框架和工具，当时的理财团队也在公司内部率先尝试基于 node.js 的实践，我们做的第一步尝试是前端本地开发剥离 java 依赖，并且将古老的 jsp 替换为 相对更符合前端开发习惯的 velocity。当时团队大佬 @zhex 开发了非常优秀的 <a class=" " href="https://github.com/zhex/fe-dev-server">fds</a> 开发工具，可以让前端在本地通过 node.js 就可以启动 java 开发环境，非常牛叉。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/lookback.png" alt="2015"/></p><blockquote><p>2015 年终回顾</p></blockquote><p>在验证了 node.js 本地环境替代 java 环境可行性的基础上，我们下一步要做的事情就是在生产环境也引入 node。业内当时的标准方案是 BFF（Backend For FrontEnd）。我们做的也不例外，当时采用的方案是 koa + jquery + nunjucks 的方案。node.js 在应用层面对前端很友好，然而客户端和服务端对 javascript 的定位完全不同，客户端我们更加关心页面性能、用户体验等，而服务端 javascript 扮演的角色更多的是通信、规模和效率。并且我们还要思考：</p><ul><li>如何打造一套分布式集群的 node 服务？</li><li>如何设计一套完整的应用开发、部署和回滚流程？</li><li>如何保证生产环境的应用运行得无懈可击？</li></ul><p>基于 node.js 在线上大规模应用之后，我们后续陆续打造了 node 发布系统、日志服务、监控告警等 node 周边生态链，让 node 成为了公司前端选型的统一标准。</p><p>16年之后，<code>React</code> 和 <code>Vue</code> 为代表的 <code>mvvm</code> 框架开始在社区火热起来，公司内部也分别有团队各自在生产环境运行。早期的 <code>React</code> 和 <code>Vue</code> 社区基本上是百家齐放，<code>Vue</code> 因为其上手成本低，开发配套方便吸引了一波早期用户，而 <code>React</code> 颠覆式的开发理念从一面世就吸引了广大开发者的眼光。</p><p>对一个公司而言，统一一套标准的开发框架带来的收益是巨大的，相对于 Vue，React 虚拟 DOM、JSX、单项数据流等虽有别于传统开发理念，在开发模式层面却提出了突破性的新方向。再加上 React 在社区生态上的繁荣，公司在前端选型方面就奠定了 React + Node 的基础框架。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/qiandaohu.png" alt="千岛湖"/></p><blockquote><p>理财千岛湖团建</p></blockquote><p>2017 年国内互联网金融领域走上了一个巅峰，大大小小的 p2p、消费金融类公司开始野蛮生长，也为今后的互联网金融整顿埋下了隐患。可是，当时的我们哪有空想这些，看着每天不断上涨的数字，再加上媒体的各种推波作澜， 没有人会觉得末日就在眼前，然而所有命运赠送的财物，早已在暗中标记好了价格。</p><p>公司业务越来越多，在产品技术端，我们打算使用 react-native 开发新业务，一个 facebook 出品的移动端开发语言。<code>Learn once, write anywhere</code>，意味着你只要学会 <code>react</code>，用一套语言就可以开发安卓、IOS 应用。这对于企业来说诱惑太大了，原先分别要针对 安卓、ios、H5 开发三套版本，还要照顾各种平台兼容性，突然有一天，facebook 说你现在只要一套语言开发，就能够抹平三端的差异。理所当然得，公司2017开始了轰轰烈烈的 react native 改造计划。</p><p>现在回头来看，早期的 <code>react-native</code> 技术并不成熟，连接 <code>javascript</code> 和 <code>native</code> 之间的 bridge 通信效率极低，并且对于长列表也没有垃圾回收，导致应用的系统资源占用始终居高不下。我们做的第一个应用版本上线以后，饱受吐槽，不管是性能还是交互体验方面，不仅没有达到官方宣传的媲美 <code>native</code> 的体验，也丢失了 H5 一次部署，随时更新的动态能力。总体而言，<code>react native</code> 算不上一个好的 <code>native</code> 开发替代工具。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/third-year.jpg" alt="3周年"/></p><blockquote><p>3 周年纪念</p></blockquote><h2 id="转岗">转岗</h2><p>17 年下半年走到了一个拐点上，一方面所在业务并没有起色，另一方面长期应付各种 C 端需求有点精疲力尽。是继续从事 C 端专注于 hybrid 开发，还是转战 B 端，去探索更多业务和数据逻辑？</p><p>当时纠结了许久，在跟 2B 的 TL 简单沟通之后，就愉快的决定转岗过来，接下来的第一个重要任务就是解锁团队可视化能力建设。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/xihu.jpg" alt="西湖团建"/></p><blockquote><p>信贷端团建之西湖</p></blockquote><p>当时整个中后台团队了负责的业务跨度非常之大，从运维到大数据，从风控到用户，从贷前、贷中到贷后，从内部开发工具，到面向三方输出服务，都属于中后台团队的业务范畴。在业务扩展阶段，我们对于可视化的能力都是直接照搬开源工具。然而一旦涉及到深度定制环节，开源框架的限制就暴露出来了。我们的解决方案就是基于 D3 和 React 自研一套可视化框架，目前这套解决方案服务了全公司的可视化能力基建。</p><p>针对中后台系统开发模式统一的场景，我们团队开发了一套基于 <code>cli 脚手架</code> + <code>模板</code> + <code>node 中间件</code>的中后台解决方案。</p><p>在探索中后台系统可视化搭建方面，我们从业务组件库 + 配置服务入手，探索可视化搭建的可能性。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/anji.png" alt="安吉团建"/></p><blockquote><p>信贷端团建之安吉</p></blockquote><h2 id="转折">转折</h2><p>2018年互金领域风云突变，年中伴随这买房摇号冻结政策的落地，p2p 开始了一轮大规模的暴雷，从此 p2p 暴雷成为了这两年令人胆颤心惊而又触耳可闻的新词。虽然挖财因为良好的风控措施和及时的政策调整避开了这波风暴，但覆巢之下，焉有完卵，整个互金产业爬坡爬了多年，好不容易爬到半坡，然后开始一路下滚，裹带着一路上泥沙草木，变成了滚雪球，越滚越大，什么时候会停下来？没人知道。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/liangzhu.jpeg" alt="良渚团建"/></p><blockquote><p>工程平台团建</p></blockquote><p>19年之后，团队经历了一波震荡，我所在团队负责的领域却更加扩大了，我们开始参与 node.js 容器化平台的建设，还将公司内部端研发体系完成统一，并且开始搭建基于微前端 + 微服务的云平台治理架构。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/kayan.png" alt="kayan"/></p><blockquote><p>卡宴欢送会</p></blockquote><p>2020 年，又是一个甲子年，真是一个令人永生难忘的年份，疫情施虐，巨星陨落，目睹了太多的生死离别，也见证了人性在灾难前的光辉闪耀。4 月 10 号，是我在挖财的 last day，在提交了最后一个 commit 之后，6 年零 46 天，划上了一个终点号。</p><p>这 6 年以来的挖财经历，经历了很多的告别，也将收获很多的重逢。要感谢的人很多，也就不一一在这里点名了，你们知道就好，不管未来身在何方，彼此在一起战斗的经历，会永驻心中，希望大家一切安好。</p><p><img src="https://github.com/wulucxy/blog/raw/master/src/routes/posts/2020-04-13-six-years-in-wacai/image/61-party.png" alt="61"/></p><blockquote><p>每年一度的挖财儿童节</p></blockquote><h2 id="尾声">尾声</h2><blockquote><p>经历的人不会都记起，过去的也不会都忘记，</p><p>有些事情有些回忆，成全了我也就陶冶了你。</p><p>《甲方乙方》</p></blockquote></div><footer class="BlogPostLayout_footer__1DZxO"><h3 class="BlogPostLayout_title__1TCtk"><a class=" " href="/">qingtong Blog</a></h3><div class="
      Bio_Bio__1xPtR
      BlogPostLayout_bio__vsFE-
    "><img src="https://www.gravatar.com/avatar/aa99b351245441b8ca95d54a52d2998c.jpg?s=56&amp;d=identicon" alt="Me"/><p>来自接地气的一线实践开发经验，用心做原创<br/>分享关于 React、数据可视化、效率工具等，打造专业前端知识库</p></div><section class="BlogPostLayout_links__LI8RB"><a class=" " href="/posts/2023-03-30/lowcode-with-ai/">← <!-- -->低代码 + AI 发展方向调研</a><a class="BlogPostLayout_next__qd2f_ " href="/posts/2020-03-07/welcome/">welcome<!-- --> →</a></section></footer></article></main></div></div><script>!function(u){function e(e){for(var t,r,n=e[0],o=e[1],c=e[2],a=0,f=[];a<n.length;a++)r=n[a],l[r]&&f.push(l[r][0]),l[r]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(u[t]=o[t]);for(p&&p(e);f.length;)f.shift()();return i.push.apply(i,c||[]),d()}function d(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==l[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var r={},f={27:0},l={27:0},i=[];function s(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(i){var e=[];f[i]?e.push(f[i]):0!==f[i]&&{1:1,14:1,21:1}[i]&&e.push(f[i]=new Promise(function(e,n){for(var t="static/css/"+({}[i]||i)+"."+{1:"256ccf89",2:"31d6cfe0",3:"31d6cfe0",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0",12:"31d6cfe0",13:"31d6cfe0",14:"eb339734",15:"31d6cfe0",16:"31d6cfe0",17:"31d6cfe0",18:"31d6cfe0",19:"31d6cfe0",20:"31d6cfe0",21:"af8fefa4",22:"31d6cfe0",23:"31d6cfe0",24:"31d6cfe0",25:"31d6cfe0"}[i]+".chunk.css",o=s.p+t,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var a=(u=r[c]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(a===t||a===o))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){var u;if((a=(u=f[c]).getAttribute("data-href"))===t||a===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var t=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+i+" failed.\n("+t+")");r.request=t,n(r)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){f[i]=0}));var r=l[i];if(0!==r)if(r)e.push(r[2]);else{var t=new Promise(function(e,t){r=l[i]=[e,t]});e.push(r[2]=t);var n,o=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=s.p+"static/js/"+({}[i]||i)+"."+{1:"9cf5b42e",2:"eaf673cb",3:"6888bba0",4:"d2a7707a",5:"6ab795cc",6:"65947da0",7:"dedb6494",8:"a2ed3c61",9:"1c7896e9",10:"87ace4b5",11:"70945193",12:"a49b4820",13:"c2f91851",14:"29f37b8e",15:"10420619",16:"d5004db3",17:"e1882e9d",18:"89f2a483",19:"05bf0fe7",20:"2b184264",21:"54d0e0eb",22:"c8454142",23:"9b1164ac",24:"582f6c46",25:"0c33dae5"}[i]+".chunk.js",n=function(e){c.onerror=c.onload=null,clearTimeout(a);var t=l[i];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,o=new Error("Loading chunk "+i+" failed.\n("+r+": "+n+")");o.type=r,o.request=n,t[1](o)}l[i]=void 0}};var a=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,o.appendChild(c)}return Promise.all(e)},s.m=u,s.c=r,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/blog/",s.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var p=n;d()}([])</script><script src="/blog/static/js/26.62626c06.chunk.js"></script><script src="/blog/static/js/main.756aefc6.chunk.js"></script></body></html>