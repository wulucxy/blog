{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","routes/posts/2019-08-01-typescript-redux/document.mdx"],"names":["_classCallCheck","instance","Constructor","TypeError","__webpack_require__","d","__webpack_exports__","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_typeof2","obj","Symbol","iterator","constructor","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","readingTime","text","minutes","time","words","MDXContent","_React$Component","_this","this","layout","_this$props","components","_objectWithoutProperties","React","createElement","MDXTag","name","parentName","src","alt","href","id","className","data-language","data-highlighted-line-numbers","dangerouslySetInnerHTML","__html","Component","tableOfContents","arguments","undefined","level","title","children","frontMatter"],"mappings":"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","file":"static/js/19.05bf0fe7.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","\nimport React from 'react'\nimport { MDXTag } from '@mdx-js/tag'\nexport const readingTime = {\"text\":\"14 min read\",\"minutes\":13.035,\"time\":782100,\"words\":2607}\n\n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}><MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://github.com/wulucxy/blog/raw/master/src/routes/posts/2019-08-01-typescript-redux/image/ts.png\",\"alt\":\"image\"}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`TLDR: 文章比较长，可以跳过直接`}<MDXTag name=\"a\" components={components} parentName=\"strong\" props={{\"href\":\"https://wulucxy.github.io/redux-typescript-guide/\"}}>{`查看 Demo`}</MDXTag></MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"前言\"}}>{`前言`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`typescript 是一个有着类型定义的 js 语言的超集。typescript 支持最新的 ESMAScript 特性，并且支持泛型、类型定义等静态语言特征，`}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`是为了大规模应用而生`}</MDXTag>{`。我们团队之前在内部一些项目中初步尝试了 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`React + Redux + TypeScript`}</MDXTag>{` 组合。本文则尝试梳理基于 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 如何更合理的架构 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`redux`}</MDXTag>{`。`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"一-环境配置\"}}>{`一. 环境配置`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`当前 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`ts + react`}</MDXTag>{` 项目基础配置如下：`}</MDXTag>\n<MDXTag name=\"ul\" components={components}>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">{`编译：@babel/preset-typescript`}</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">{`开发、打包：parcel`}</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ul\">{`语法校验：eslint、tsc`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"p\" components={components}>{`其中引入 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`babel/preset`}</MDXTag>{` 来替代 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`ts-loader`}</MDXTag>{`，这样既解决了 ts 工程化构建效率问题，同时不影响类型校验，还统一了编译工具。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`接入 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`babel`}</MDXTag>{` 以后，需要对 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`tsconfig`}</MDXTag>{` 规则稍作修改，此时 ts 的定位仅仅是类型校验，代码编译的工作就完全交给 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`babel`}</MDXTag>{` 来处理了。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`tsconfig.json`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-json\",\"data-language\":\"json\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">\\\"compilerOptions\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// 解析为最新版本的es版本，babel 负责后续的编译</span>\\n    <span class=\\\"token property\\\">\\\"target\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"esnext\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token property\\\">\\\"module\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"esnext\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// ts 的解析规则</span>\\n    <span class=\\\"token property\\\">\\\"lib\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"esnext\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"dom\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 绝对地址按照 node_modules 解析</span>\\n    <span class=\\\"token property\\\">\\\"moduleResolution\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"node\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 开启 jsx</span>\\n    <span class=\\\"token property\\\">\\\"jsx\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"react\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 不执行构建，交由 babel 执行</span>\\n    <span class=\\\"token property\\\">\\\"noEmit\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 严格模式，包括 strictNullChecks &amp; noImplicitAny.</span>\\n    <span class=\\\"token property\\\">\\\"strict\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 跳过三方包检查</span>\\n    <span class=\\\"token property\\\">\\\"skipLibCheck\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// any 类型不警告</span>\\n    <span class=\\\"token property\\\">\\\"noImplicitAny\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 关闭 null 严格检查</span>\\n    <span class=\\\"token property\\\">\\\"strictNullChecks\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 将每个文件作为单独的模块</span>\\n    <span class=\\\"token property\\\">\\\"isolatedModules\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// Import non-ES modules as default imports.</span>\\n    <span class=\\\"token property\\\">\\\"esModuleInterop\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">true</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"include\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"src\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`接下来还需要配置 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`eslint`}</MDXTag>{` 规则：`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`.eslintrc`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-json\",\"data-language\":\"json\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">\\\"parser\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"@typescript-eslint/parser\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"parserOptions\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token property\\\">\\\"project\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"./tsconfig.json\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token property\\\">\\\"ecmaVersion\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token number\\\">2018</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"extends\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n    <span class=\\\"token string\\\">\\\"@npm/standard/react\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token string\\\">\\\"plugin:@typescript-eslint/recommended\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token string\\\">\\\"prettier\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token string\\\">\\\"prettier/@typescript-eslint\\\"</span>\\n  <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"plugins\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"@typescript-eslint\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"rules\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// 自定义 lint 规则</span>\\n    <span class=\\\"token property\\\">\\\"react/prop-types\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token property\\\">\\\"@typescript-eslint/no-explicit-any\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"warn\\\"</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n <span class=\\\"token punctuation\\\">}</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`最后一步就是在 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`package.json`}</MDXTag>{` 里面添加脚本命令了：`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`package.json`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-json\",\"data-language\":\"json\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token property\\\">\\\"scripts\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token property\\\">\\\"start\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"parcel src/public/index.html --open\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"prebuild\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"npm run build:clean\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"build:clean\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"rimraf ./dist\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"build\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"parcel build src/public/index.html --no-source-maps\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"lint\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"eslint src --fix --format codeframe\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"lint-staged\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"lint-staged\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token property\\\">\\\"ts-compile-check\\\"</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token string\\\">\\\"tsc --pretty -p tsconfig.json\\\"</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`以上，我们就实现了一套完整工程化能力的 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 开发环境了。`}</MDXTag>\n<MDXTag name=\"blockquote\" components={components}>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`let’s RUN~~~`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://github.com/wulucxy/blog/raw/master/src/routes/posts/2019-08-01-typescript-redux/image/run.png\",\"alt\":\"run\"}}></MDXTag></MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"二-数据和分层\"}}>{`二. 数据和分层`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"1-目录结构\"}}>{`1. 目录结构`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`目录即分层，一个好的目录结构能够让我们在开发中更加得心应手。在开发 redux 应用中，有一种普遍的做法是根据 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`action`}</MDXTag>{`, `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`reducer`}</MDXTag>{` 功能进行分层，一个典型的应用是这样的：`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`.\n|-- actions             // 全局 action\n|-- components          // 公共组件\n|   |-- Footer.tsx\n|   |-- Header.tsx\n|-- pages               // 页面\n|   |-- home\n|      |-- components  // 组件入口  \n|      \\`-- index.tsx   // 页面入口 \n|-- reducers           // 全局 reducer\n|-- store              // store 入口\n|-- types.d.ts         // 三方类型声明\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`在实际开发中，开发往往会在不同文件中来回跳跃，尤其是当项目文件膨胀以后，在不同文件中跳跃式寻找会占据很大比例的时间。基于此，社区开始流行另外一种开发方式，俗称「ducks」规则，简而言之就是将 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`action`}</MDXTag>{`, `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`reducer`}</MDXTag>{`，`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`actionType`}</MDXTag>{` 放在一起进行管理，`}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/erikras/ducks-modular-redux\"}}>{`参考链接`}</MDXTag>{`。 其中 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`ducks`}</MDXTag>{` 命名来自于`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`redux`}</MDXTag>{` 结尾音。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`ducks`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`.\n|-- components           // 公共组件\n|   |-- Footer.tsx\n|   |-- Header.tsx\n|-- pages\n|   |-- home\n|   |  |-- index.ts      // 页面入口\n|   |  |-- components    // 组件\n|   |  |-- types.ts      // 类型声明\n|   |  \\`-- reducer.ts    // action/reducer\n|-- store                 // redux store 入口\n|-- types.d.ts            // 三方组件类型声明\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"2-数据不可变性\"}}>{`2. 数据不可变性`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`在 redux 开发中，需要遵循的一个原则是`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`数据不可变性 (immutable)`}</MDXTag>{`，每个 reducer 不能修改原始值，而只能返回一个新的 state。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`在 接触 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 之前，`}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://immutable-js.github.io/immutable-js/\"}}>{`immutable.js`}</MDXTag>{` 是结合 redux 实现数据不可变的最佳辅助工具。然而，`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`immutable.js`}</MDXTag>{` 对 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`ts`}</MDXTag>{` 的支持就一言难尽了，这两者都是很好的工具，但是放在一起，却是那么的不合适。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`所以我们在实际项目中尝试了使用 `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/immerjs/immer\"}}>{`immer`}</MDXTag>{` 来实现数据持久化，`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`immer`}</MDXTag>{` 通过 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`proxy`}</MDXTag>{` 实现了用原生 js 语法实现了数据不可变。虽然写起来没有像 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`immutable.js`}</MDXTag>{` 函数式写法那么爽，但至少能用。`}</MDXTag>\n<MDXTag name=\"blockquote\" components={components}>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`后续，我们仍然会探索基于 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`immutable.js`}</MDXTag>{` 的 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 写法，不再本文范畴之内。`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"3-store\"}}>{`3. Store`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`在 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Store`}</MDXTag>{` 中我们将 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`reducer`}</MDXTag>{` 进行聚合，并对外导出应用级别的状态数据。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`src/store/root-reducers.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token comment\\\">// 页面 reducer 聚合</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> ReducersMapObject <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"redux\\\"</span>\\n<span class=\\\"token comment\\\">// 导入每个页面独立的 reducer 和 类型声明</span>\\n<span class=\\\"token keyword\\\">import</span> bitcoin <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"../pages/basic/reducer\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> BitcoinState <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"../pages/basic/types\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// 应用级数据类型接口</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">AppState</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token literal-property property\\\">bitcoin</span><span class=\\\"token operator\\\">:</span> BitcoinState<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token literal-property property\\\">reducers</span><span class=\\\"token operator\\\">:</span> ReducersMapObject <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  bitcoin\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> reducers \\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`src/store/create.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token comment\\\">// 导入 redux 和 immer 相应的方法</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> createStore<span class=\\\"token punctuation\\\">,</span> Reducer <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'redux'</span>\\n<span class=\\\"token keyword\\\">import</span> produce <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"immer\\\"</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> combineReducers <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"redux-immer\\\"</span>\\n\\n<span class=\\\"token comment\\\">// 聚合后的 reducer 和顶层应用数据</span>\\n<span class=\\\"token keyword\\\">import</span> reducers<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> AppState <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./root-reducer\\\"</span>\\n\\n<span class=\\\"token comment\\\">// 通过 combineReducer 将 reducer 合并为一</span>\\n<span class=\\\"token comment\\\">// 注意这里的 combineReducers 是基于 immer 的实现</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token literal-property property\\\">rootReducer</span><span class=\\\"token operator\\\">:</span> Reducer<span class=\\\"token operator\\\">&lt;</span>AppState<span class=\\\"token operator\\\">></span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">combineReducers</span><span class=\\\"token punctuation\\\">(</span>produce<span class=\\\"token punctuation\\\">,</span> reducers<span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// 导出 store</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">initialState <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span></span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">createStore</span><span class=\\\"token punctuation\\\">(</span>\\n    rootReducer<span class=\\\"token punctuation\\\">,</span>\\n    initialState<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token function\\\">applyMiddleware</span><span class=\\\"token punctuation\\\">(</span>Thunk<span class=\\\"token punctuation\\\">,</span> promiseMiddleware<span class=\\\"token punctuation\\\">,</span> Logger<span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"4-声明类型文件-dts\"}}>{`4. 声明类型文件 .d.ts`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`我们在项目中会依赖到很多三方、二方包仍然是用纯 js 实现的，将这些代码重构为 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 显然是不现实的，ts 的做法是我们可以声明 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`.d.ts`}</MDXTag>{` 类型文件将三方包引入到 ts 工程中。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`.d.ts`}</MDXTag>{` 中 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`d`}</MDXTag>{` 的含义是 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`declaration`}</MDXTag>{` 即声明，实际使用我们无需关注具体实现，而只需要导出类型声明即可。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`最简单的声明文件是这样的：`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`declare module '@npm/r3'\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`但是如果你的项目中类型声明非常重要的话，建议到 `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/DefinitelyTyped/DefinitelyTyped\"}}>{`DefinitelyTyped`}</MDXTag>{` 查看更多优质类型定义文件，并贡献自己的力量。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`在声明类型文件还有一种`}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`取巧的做法`}</MDXTag>{`是定义全局类型，全局类型无需导入即可对所有文件可见，举例：`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`typing.d.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`interface IUser {\n  name: string\n  phone: number\n}\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`定义好之后你在任意文件中都可以直接使用该类型。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`实际上这样做有可商榷之处，在导入三方类型声明的文件中，用来声明当前应用的全局类型。这样的做法 `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://stackoverflow.com/questions/42233987/how-to-configure-custom-global-interfaces-d-ts-files-for-typescript\"}}>{`社区并不推荐`}</MDXTag>{`。实际上你应该定义一个独立的 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`.ts`}</MDXTag>{` 文件，然后通过 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`export/import`}</MDXTag>{` 来引用。`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"三-reducer\"}}>{`三. reducer`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`前面我们提到将 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`reducer`}</MDXTag>{`，`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`action`}</MDXTag>{`，`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`actionType`}</MDXTag>{` 按照 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`ducks`}</MDXTag>{` 规则统一到一个文件中管理, 并且将`}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`类型声明`}</MDXTag>{`也统一到一个文件。接下来我们展开来介绍这部分内容：`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"1-types\"}}>{`1. types`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`actionType`}</MDXTag>{` 是一种可枚举类型：`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">enum</span> BitcoinActionTypes <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// 请求比特币周期价格指数</span>\\n  <span class=\\\"token constant\\\">BITCOIN_QUERY_LIST</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"BITCOIN_QUERY_LIST\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token comment\\\">// 请求比特币当前价格</span>\\n  <span class=\\\"token constant\\\">BITCOIN_QUERY_CURRENCY</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"BITCOIN_QUERY_CURRENCY\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token comment\\\">// 设置当前过滤条件</span>\\n  <span class=\\\"token constant\\\">BITCOIN_SET_FILTER</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"BITCOIN_SET_FILTER\\\"</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`通过枚举类型结合 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 的强类型自动推导能力，可以实现开发自动输入补全：\n`}<MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://github.com/wulucxy/blog/raw/master/src/routes/posts/2019-08-01-typescript-redux/image/infer.png\",\"alt\":\"enum\"}}></MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"2-actions\"}}>{`2. actions`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`redux 中的 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`action`}</MDXTag>{` 分为两类：同步和异步。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`同步 action`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> BitcoinActionTypes <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./types\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">setFilterType</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\"><span class=\\\"token literal-property property\\\">filterType</span><span class=\\\"token operator\\\">:</span> string</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token literal-property property\\\">type</span><span class=\\\"token operator\\\">:</span> BitcoinActionTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">BITCOIN_SET_FILTER</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token literal-property property\\\">payload</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span> filterType <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`借助 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typeof`}</MDXTag>{` 关键词，我们在`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`types`}</MDXTag>{` 文件中非常方便地导出类型：`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`types.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> setFilterType <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./reducer\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">export</span> type SetFilterType <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">typeof</span> setFilterType<span class=\\\"token punctuation\\\">;</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`异步 action`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`在项目中我们使用了 `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/pburtchaell/redux-promise-middleware\"}}>{`redux-promise-middleware`}</MDXTag>{` 进行异步 action 的管理，异步 action 会返回 promise，但是写法仍然沿用同步 action 的写法。`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> AsyncAction <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"redux-promise-middleware\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> queryBPICurrency <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token parameter\\\">AsyncAction</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token literal-property property\\\">type</span><span class=\\\"token operator\\\">:</span> BitcoinActionTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">BITCOIN_QUERY_CURRENCY</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// 这里这里payload 实际返回的是 promise</span>\\n    <span class=\\\"token literal-property property\\\">payload</span><span class=\\\"token operator\\\">:</span> axios<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"//api.coindesk.com/v1/bpi/currentprice/cny.json\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`注意这里的 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`AsyncAction`}</MDXTag>{` 来自 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`redux-promise-middleware`}</MDXTag>{` 的 `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/pburtchaell/redux-promise-middleware/blob/master/src/index.d.ts\"}}>{`类型定义`}</MDXTag>{`。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`通过 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typeof`}</MDXTag>{` 类型推导:`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`types.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> queryBPI <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./reducer\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">export</span> type QueryBPI <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">typeof</span> queryBPI\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`结果如下：`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{}}>{`type QueryBPI = (params: BPIParams) => AsyncAction\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"3reducer\"}}>{`3.reducer`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`结合`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`redux-promise-middleware`}</MDXTag>{`，`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`type-to-reducer`}</MDXTag>{` 和 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`immer`}</MDXTag>{`，我们来完成具备类型的 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`reducer`}</MDXTag>{`。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\">{`types.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token comment\\\">// state 类型</span>\\n<span class=\\\"token comment\\\">// 其中 Record 泛型是 `{ [key: string]: T }` 的简写</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">BitcoinState</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token literal-property property\\\">filterType</span><span class=\\\"token operator\\\">:</span> string<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token literal-property property\\\">requestLoading</span><span class=\\\"token operator\\\">:</span> boolean<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token literal-property property\\\">currentPrice</span><span class=\\\"token operator\\\">:</span> Record<span class=\\\"token operator\\\">&lt;</span>string<span class=\\\"token punctuation\\\">,</span> BitcoinPrice<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`reducer.ts`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">import</span> typeToReducer <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"type-to-reducer\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> BitcoinActionTypes<span class=\\\"token punctuation\\\">,</span> BPIParams <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./types\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// 导出 reducer</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token function\\\">typeToReducer</span><span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token comment\\\">// 同步 action</span>\\n  <span class=\\\"token punctuation\\\">[</span>BitcoinActionTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">BITCOIN_SET_FILTER</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">state<span class=\\\"token punctuation\\\">,</span> action</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> filterType <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> action<span class=\\\"token punctuation\\\">.</span>payload<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// immer 包装后可以直接用原生 js 修改值</span>\\n    state<span class=\\\"token punctuation\\\">.</span>filterType <span class=\\\"token operator\\\">=</span> filterType<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">return</span> state<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token comment\\\">// 异步action</span>\\n  BitcoinActionTypes<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">BITCOIN_QUERY_CURRENCY</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token function-variable function\\\">PENDING</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">state<span class=\\\"token punctuation\\\">,</span> action</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      state<span class=\\\"token punctuation\\\">.</span>requestLoading <span class=\\\"token operator\\\">=</span> <span class=\\\"token boolean\\\">true</span>\\n      <span class=\\\"token keyword\\\">return</span> state\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token function-variable function\\\">FULFILLED</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">state<span class=\\\"token punctuation\\\">,</span> action</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> bpi <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> action<span class=\\\"token punctuation\\\">.</span>payload<span class=\\\"token punctuation\\\">;</span>\\n      state<span class=\\\"token punctuation\\\">.</span>currentPrice <span class=\\\"token operator\\\">=</span> bpi<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">return</span> state<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">)</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"四-连接组件\"}}>{`四. 连接组件`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`接下来我们将类型化后的 redux 连接到 React 组件：`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"1-connect-连接\"}}>{`1. connect 连接`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`react 组件和 redux 通过 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`react-redux`}</MDXTag>{` 的 connect 方法进行连接：`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\",\"data-language\":\"javascript\",\"data-highlighted-line-numbers\":\"\",\"dangerouslySetInnerHTML\":{\"__html\":\"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> connect <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"react-redux\\\"</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> AppState <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"../../store/root-reducer\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// 导入类型</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span>\\n  SetFilterType<span class=\\\"token punctuation\\\">,</span>\\n  QueryBPICurrency<span class=\\\"token punctuation\\\">,</span>\\n  QueryBPI<span class=\\\"token punctuation\\\">,</span>\\n  BitcoinState<span class=\\\"token punctuation\\\">,</span>\\n  BPIParams\\n<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"./types\\\"</span>\\n\\n<span class=\\\"token comment\\\">// 类型扩展</span>\\n<span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">BasicProps</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">BitcoinState</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token literal-property property\\\">setFilterType</span><span class=\\\"token operator\\\">:</span> SetFilterType<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token literal-property property\\\">queryBPICurrency</span><span class=\\\"token operator\\\">:</span> QueryBPICurrency<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token literal-property property\\\">queryBPI</span><span class=\\\"token operator\\\">:</span> QueryBPI<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">// 这里通过 Class 组件引入类型</span>\\n<span class=\\\"token comment\\\">// 如果是函数式组件，就使用 React.FC&lt;BasicProps> 声明类型</span>\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Basic</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">React<span class=\\\"token punctuation\\\">.</span>Component</span><span class=\\\"token operator\\\">&lt;</span>BasicProps<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// do something</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">// 将 state 数据导出为属性</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">select</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\"><span class=\\\"token literal-property property\\\">state</span><span class=\\\"token operator\\\">:</span> AppState</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> bitcoin <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> state<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token literal-property property\\\">requestLoading</span><span class=\\\"token operator\\\">:</span> bitcoin<span class=\\\"token punctuation\\\">.</span>requestLoading<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token literal-property property\\\">filterType</span><span class=\\\"token operator\\\">:</span> bitcoin<span class=\\\"token punctuation\\\">.</span>filterType<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token literal-property property\\\">currentPrice</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span>bitcoin<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"currentPrice.CNY\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// 最后一步：完成 redux 和 组件的连接</span>\\n<span class=\\\"token comment\\\">// 顺便导入一下 action</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token function\\\">connect</span><span class=\\\"token punctuation\\\">(</span>\\n  select<span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">{</span>\\n    setFilterType<span class=\\\"token punctuation\\\">,</span>\\n    queryBPI<span class=\\\"token punctuation\\\">,</span>\\n    queryBPICurrency\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">(</span>Basic<span class=\\\"token punctuation\\\">)</span>\\n\"}}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`到此，我们就基本上完成了一个 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript + redux + react`}</MDXTag>{` 的应用，`}<MDXTag name=\"em\" components={components} parentName=\"p\">{`源码后续会放出`}</MDXTag>{`。`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"总结\"}}>{`总结`}</MDXTag>\n<MDXTag name=\"blockquote\" components={components}>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`这 ts 有什么用，限制多，运行慢，除了带给我一堆警告，还有什么作用？`}</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`ts 类型声明这么复杂，还引入了这么多新概念，跟框架兼容性又这么差`}</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`我就是辞职，不写前端了，也特么不用巨硬造的假 java`}</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`……`}</MDXTag>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`ts 真香，再也不想用 js 了。`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"p\" components={components}>{`学习 `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`typescript`}</MDXTag>{` 是一段漫长的旅程，学习 ts 语法并不难，难的是框架对 ts 的支持度。以 React 为例，单单写一个 redux 版本的基础应用就踩了很多坑，甚至为了写 ts 不得不抛弃了`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`immutable.js`}</MDXTag>{`  — 一个数据不可变函数式工具，更不用提社区数量繁多的其他三方库了。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`ts 不是银弹，ts 无法解决你的代码结构问题，也不能避免语法 Bug，`}<MDXTag name=\"strong\" components={components} parentName=\"p\">{`”彼之蜜糖,吾之毒药“`}</MDXTag>{`，当 ts 类型使用不当的时候，强行接入反而会给你造成更大的困扰。`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`ts 适合什么场景？`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`我个人认为:`}</MDXTag>\n<MDXTag name=\"ol\" components={components}>\n<MDXTag name=\"li\" components={components} parentName=\"ol\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`中大型项目，需要长期维护的项目，底层库 or 框架`}</MDXTag>\n</MDXTag>\n<MDXTag name=\"li\" components={components} parentName=\"ol\">\n<MDXTag name=\"p\" components={components} parentName=\"li\">{`上一条的前提是，项目主要依赖的类库对 ts 支持良好，最好有业界的先行案例`}</MDXTag>\n</MDXTag>\n</MDXTag>\n<MDXTag name=\"p\" components={components}>{`所以用一些冷门框架或者小项目的时候我是不建议使用 ts 的，ts 没问题，框架也没问题，框架+ ts 会有很多问题。`}</MDXTag>\n           </MDXTag>\n  }\n}\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"前言\",\n    level: 3,\n    title: \"前言\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"一-环境配置\",\n    level: 2,\n    title: \"一. 环境配置\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"二-数据和分层\",\n    level: 2,\n    title: \"二. 数据和分层\",\n    children: [\n        {\n              id: \"1-目录结构\",\n              level: 3,\n              title: \"1. 目录结构\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"2-数据不可变性\",\n              level: 3,\n              title: \"2. 数据不可变性\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"3-store\",\n              level: 3,\n              title: \"3. Store\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"4-声明类型文件-dts\",\n              level: 3,\n              title: \"4. 声明类型文件 .d.ts\",\n              children: [\n                      \n                    ]\n            }\n      ]\n  },\n{\n    id: \"三-reducer\",\n    level: 2,\n    title: \"三. reducer\",\n    children: [\n        {\n              id: \"1-types\",\n              level: 3,\n              title: \"1. types\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"2-actions\",\n              level: 3,\n              title: \"2. actions\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"3reducer\",\n              level: 3,\n              title: \"3.reducer\",\n              children: [\n                      \n                    ]\n            }\n      ]\n  },\n{\n    id: \"四-连接组件\",\n    level: 2,\n    title: \"四. 连接组件\",\n    children: [\n        {\n              id: \"1-connect-连接\",\n              level: 3,\n              title: \"1. connect 连接\",\n              children: [\n                      \n                    ]\n            }\n      ]\n  },\n{\n    id: \"总结\",\n    level: 2,\n    title: \"总结\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n"],"sourceRoot":""}